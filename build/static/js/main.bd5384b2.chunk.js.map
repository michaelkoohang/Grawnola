{"version":3,"sources":["components/narrative/story-progress/StoryProgress.js","components/narrative/story-block/graphs/Carbon.js","components/narrative/story-block/graphs/Emissions.js","components/narrative/story-block/graphs/Gases.js","components/narrative/story-block/graphs/NetEmissionsFlow.js","components/narrative/story-block/graphs/Paris.js","components/narrative/story-block/graphs/PolarIce.js","components/narrative/story-block/graphs/SeaLevel.js","components/narrative/story-block/graphs/Sectors.js","components/narrative/story-block/graphs/Temp.js","components/narrative/story-block/StoryBlock.js","img/earth.png","components/narrative/Narrative.js","components/interactive/single/graphs/Categories.js","components/interactive/single/comparison/Comparison.js","data/interactive/national_statistics.js","components/interactive/single/graphs/Budget.js","components/interactive/single/Single.js","components/interactive/national/grid-conversions.js","components/interactive/national/Grid.js","components/interactive/national/National.js","components/interactive/control-panel/flights/FlightsModal.js","components/interactive/control-panel/cars/CarsModal.js","components/interactive/control-panel/shipping/ShippingModal.js","components/interactive/emission_conversions.js","components/interactive/control-panel/headers.js","components/interactive/control-panel/ControlPanel.js","components/interactive/selectors.js","components/interactive/Interactive.js","img/bea.JPG","img/michael.jpg","img/kunal.jpg","img/toma.jpg","components/team/Team.js","components/references/References.js","components/footer/Footer.js","components/App.js","index.js"],"names":["StoryProgress","props","bars","i","text","length","story","push","Grid","Column","Progress","color","inverted","indicating","percent","className","columns","Row","margin","width","height","Carbon","d3Container","useRef","data","useEffect","current","select","remove","svg","append","attr","x","scaleTime","domain","extent","d","Date","date","range","call","axisBottom","y","scaleLinear","max","value","min","axisLeft","style","datum","line","bisect","bisector","left","focus","focusText","focusSubtext","html","on","event","xy","pointer","x0","invert","selectedData","ref","Emissions","gases","sectors","Table","celled","structured","Header","HeaderCell","colSpan","textAlign","rowSpan","map","sector","name","key","Body","gas","Cell","emissions","Icon","size","outerRadius","Math","Gases","colorScale","scaleSequential","interpolator","interpolateCool","classed","arcGenerator","arc","innerRadius","pieGenerator","pie","padAngle","donut","selectAll","enter","formula","centroid","NetEmissionsFlow","scaleBand","emission","padding","carbon","bandwidth","round","Paris","grouped_data","group","pathway","year","ticks","get","PolarIce","xAxis","mass","idleTimeout","brush","brushX","selection","move","setTimeout","idled","transition","duration","SeaLevel","level","Sectors","scaleOrdinal","children","tooltip","tooltipunits","root","hierarchy","sum","treemap","paddingTop","paddingRight","paddingInner","nodes","leaves","y0","x1","y1","colname","parent","toLocaleString","exit","subsector","filter","descendants","depth","Temp","StoryBlock","useState","tempCarbonActive","setTempCarbonActive","seaIceActive","setSeaIceActive","dangerouslySetInnerHTML","__html","heading","subtext","facts","fact","index","icon","icon_color","message","header","Message","Container","Button","Group","onClick","Or","temp","polar_ice","sea_level","greenhouse_gases","net_emissions_flow","paris","Narrative","modalOpen","setModalOpen","currentStory","setCurrentStory","visible","storyBlocks","Transition","animation","handleKeyPress","document","addEventListener","removeEventListener","onKeyPress","Modal","basic","onClose","open","Content","Actions","id","src","earth","alt","href","positive","Categories","total_carbon","reduce","a","b","arcLabel","posA","posB","posC","midAngle","startAngle","endAngle","PI","charAt","toUpperCase","slice","pos","Comparison","offsets","total","setTotal","progress","NATIONAL_STATS","avg_per_capita_emissions","budget","budget_per_capita","total_emissions_2018","total_pop","heightTranslated","Budget","per_capita_limit","Single","emissionsTotal","setEmissionsTotal","offsetsTotal","setOffsetsTotal","budgetData","setBudgetData","emissionsData","setEmissionsData","new_emissions_data","electricity","flights","cars","shipping","new_emissions_total","new_offset_total","vegan","carFree","ledBulbs","trees","Segment","widths","MAX_GRID_SIZE","getTotalSquares","getGridColor","cellSize","floor","offset","updateGrid","newEmissions","emissionCells","cell","formatted","getGridLabel","National","people","getEmissions","FlightsModal","oneWayRoundTrip","setOneWayRoundTrip","fromDestination","setFromDestination","toDestination","setToDestination","errorHidden","setErrorHidden","openFlights","content","Dropdown","fluid","options","airports","placeholder","search","onChange","Radio","label","checked","negative","hidden","toggleFlightsModal","labelPosition","flight","updateFlights","addFlight","CarsModal","miles","setMiles","frequency","setFrequency","openCars","Input","type","target","driving_frequency","toggleCarsModal","parseInt","updateCars","err","addCar","ShippingModal","weight","setWeight","distance","setDistance","method","setMethod","openShipping","shipping_methods","toggleShippingModal","new_weight","parseFloat","new_distance","item","updateShipping","addShipping","multiplier","emissionsTitle","electricityTitle","flightsTitle","carsTitle","shippingTitle","offsetsTitle","multipliersTitle","ControlPanel","electricityLabel","setElectricityLabel","treesLabel","setTreesLabel","setOpenFlights","setOpenCars","setOpenShipping","introOpen","setIntroOpen","Popup","trigger","onAfterChange","updateElectricity","step","as","Label","from","to","oneWayRound","animated","deleteFlight","car","deleteCar","shipment","deleteShipping","Checkbox","updateOffsets","updatePeople","dots","List","ordered","Item","createSelector","s","getTotalCarbon","values","pick","keys","Interactive","setElectricity","setFlights","setCars","setShipping","setVegan","setCarFree","setLedBulbs","setTrees","setPeople","getCarbon","json","fetch","headers","body","JSON","stringify","then","response","console","info","attributes","carbon_kg","catch","error","totalCarbon","stretched","kwh","new_electricity","concat","uuidv4","new_item","emails","bea","michael","kunal","toma","Teams","Card","itemsPerRow","image","meta","description","extra","References","bulleted","refs","narrative","slide","items","link","rel","interactive","section","Footer","stackable","Menu","secondary","App","exact","path","component","Team","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.bd5384b2.chunk.js","sourcesContent":["import React from 'react';\nimport './StoryProgress.css';\nimport {Grid, Progress} from \"semantic-ui-react\";\n\nimport text from '../../../data/narrative/text.json';\n\nfunction StoryProgress(props) {\n\n  const bars = [];\n\n  for (let i = 0; i < text.length; i++) {\n    if (i <= props.story) {\n      bars.push(\n        <Grid.Column key={i}>\n          <Progress color='grey' inverted indicating percent={100}/>\n        </Grid.Column>\n      );\n    } else {\n      bars.push(\n        <Grid.Column key={i}>\n          <Progress className=\"inactive\" percent={100}/>\n        </Grid.Column>\n      );\n    }\n  }\n\n  return (\n    <div className=\"story-progress\">\n      <Grid columns={text.length}>\n        <Grid.Row>\n          {bars}\n        </Grid.Row>\n      </Grid>\n    </div>\n  );\n}\n\nexport default StoryProgress;\n","import React, {useEffect, useRef} from 'react';\nimport {pointer, select} from 'd3-selection';\nimport {scaleTime} from \"d3-scale\";\nimport {bisector, extent} from \"d3-array\";\nimport {axisBottom, axisLeft} from \"d3-axis\";\nimport {scaleLinear} from \"d3-scale\";\nimport {max, min} from \"d3-array\";\nimport {line} from \"d3-shape\";\n\nconst margin = {top: 0, right: 0, bottom: 60, left: 80},\n  width = 460 - margin.left - margin.right,\n  height = 400 - margin.top - margin.bottom;\n\nfunction Carbon(props) {\n  const d3Container = useRef(null);\n  const {data} = props;\n\n  useEffect(() => {\n    if (data && d3Container.current) {\n      select(d3Container.current)\n        .select('svg')\n        .remove();\n\n      const svg = select(d3Container.current)\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\",\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      var x = scaleTime()\n        .domain(extent(data, function(d) { return new Date(d.date); }))\n        .range([ 0, width ]);\n      svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(axisBottom(x));\n\n      var y = scaleLinear()\n        .domain([max(data, function(d) { return +d.value; }), min(data, function(d) { return +d.value; })])\n        .range([ 0, height]);\n      svg.append(\"g\")\n        .call(axisLeft(y));\n\n      var yAxisLabelText = 'CO\\u2082 (parts per million)';\n      var xAxisLabelText = 'Date';\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', `translate(180,390)`)\n        .text(xAxisLabelText);\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', \"translate(-40,230), rotate(270)\")\n        .text(yAxisLabelText);\n\n      svg\n        .append(\"path\")\n        .datum(data)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"#FF453A\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"d\", line()\n          .x(function(d) { return x(new Date(d.date)) })\n          .y(function(d) { return y(d.value) })\n        )\n\n      var bisect = bisector(function(d) { return new Date(d.date); }).left;\n\n      var focus = svg\n        .append('g')\n        .append('circle')\n        .style(\"fill\", \"white\")\n        .attr(\"stroke\", \"white\")\n        .attr('r', 4.5)\n        .style(\"opacity\", 0)\n\n      var focusText = svg\n        .append('g')\n        .append('text')\n        .style(\"opacity\", 0)\n        .style(\"fill\", \"#FF453A\")\n        .style('font-size', '48px')\n        .style('font-weight', '900')\n        .style('font-family', 'Helvetica')\n        .attr('transform','translate(50,80)')\n\n      var focusSubtext = svg\n        .append('g')\n        .append('text')\n        .html('ppm')\n        .style(\"opacity\", 0)\n        .style(\"fill\", \"#FF453A\")\n        .style('font-size', '48px')\n        .style('font-weight', '900')\n        .style('font-family', 'Helvetica')\n        .attr('transform','translate(50,120)')\n\n      svg\n        .append('rect')\n        .style(\"fill\", \"none\")\n        .style(\"pointer-events\", \"all\")\n        .attr('width', width)\n        .attr('height', height)\n        .on('mouseover', mouseover)\n        .on('mousemove', mousemove)\n        .on('mouseout', mouseout);\n\n      function mouseover() {\n        focus.style(\"opacity\", 1)\n        focusText.style(\"opacity\",1)\n        focusSubtext.style(\"opacity\",1)\n      }\n\n      function mousemove(event) {\n        let xy = pointer(event);\n        var x0 = x.invert(xy[0]);\n        var i = bisect(data, x0, 1);\n        if (i < data.length) {\n          let selectedData = {\"x\": new Date(data[i].date), \"y\": data[i].value};\n          focus\n            .attr(\"cx\", x(selectedData.x))\n            .attr(\"cy\", y(selectedData.y));\n          focusText\n            .html(`${selectedData.y}`)\n        }\n      }\n\n      function mouseout() {\n        focus.style(\"opacity\", 0)\n        focusText.style(\"opacity\", 0)\n        focusSubtext.style(\"opacity\",0)\n      }\n    }\n\n  },[data]);\n\n  return (\n    <div ref={d3Container} />\n  );\n}\n\nexport default Carbon;\n","import React from 'react';\nimport {Icon, Table} from \"semantic-ui-react\";\nimport {map} from 'lodash';\n\nfunction Emissions(props) {\n  const {gases, sectors} = props.data;\n\n  return (\n    <div className='table-container'>\n      <Table celled inverted structured>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell colSpan='8' textAlign='center'>\n              Opportunities for Reducing Emissions\n            </Table.HeaderCell>\n          </Table.Row>\n          <Table.Row>\n            <Table.HeaderCell rowSpan='2'>\n              Gas\n            </Table.HeaderCell>\n            <Table.HeaderCell colSpan='7' textAlign='center'>\n              Sectors\n            </Table.HeaderCell>\n          </Table.Row>\n          <Table.Row>\n            {map(sectors, sector => (\n              <Table.HeaderCell key={sector.key}>{sector.name}</Table.HeaderCell>\n            ))}\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          {map(gases, gas => (\n            <Table.Row key={gas.key}>\n              <Table.Cell>{gas.name}</Table.Cell>\n              {map(gas.emissions, (sector, i) => (\n                <Table.Cell key={`${gas.key}-sector-${i}`} textAlign='center'>\n                  {sector.value\n                    ? <Icon color='green' name='checkmark' size='large' />\n                    : ''\n                  }\n                </Table.Cell>\n              ))}\n            </Table.Row>\n          ))}\n        </Table.Body>\n      </Table>\n    </div>\n  );\n}\n\nexport default Emissions;\n","import React, {useEffect, useRef} from 'react';\nimport {arc, pie} from 'd3-shape';\nimport {interpolateCool} from 'd3-scale-chromatic';\nimport {scaleSequential} from 'd3-scale';\nimport {select} from 'd3-selection';\n\nconst margin = {top: 10, right: 10, bottom: 10, left: 10};\nconst width = 320;\nconst height = 320;\nconst innerRadius = 70;\nconst outerRadius = Math.min(width, height) / 2.4 - margin.top - margin.bottom;\n\nfunction Gases(props) {\n  const d3Container = useRef(null);\n  const {data} = props;\n\n  const colorScale = scaleSequential()\n    .interpolator(interpolateCool)\n    .domain([0, data.length]);\n\n  useEffect(() => {\n    if (data && d3Container.current) {\n      select(d3Container.current)\n        .select('svg')\n        .remove();\n\n      const svg = select(d3Container.current)\n        .append('svg')\n        .attr('preserveAspectRatio', 'xMinYMin meet')\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .classed('svg-content', true)\n        .append('g')\n        .attr('transform', `translate(${width / 2}, ${height / 2})`);\n\n      const arcGenerator = arc()\n        .innerRadius(innerRadius)\n        .outerRadius(outerRadius);\n\n      const pieGenerator = pie()\n        .padAngle(0)\n        .value(d => d.value);\n\n      const donut = svg\n        .selectAll()\n        .data(pieGenerator(data))\n        .enter();\n\n      donut.append('path')\n        .attr('d', arcGenerator)\n        .style('fill', (d, i) => colorScale(i))\n        .style('stroke-width', 0);\n\n      svg.append('text')\n        .style(\"opacity\", 1)\n        .style(\"fill\", \"white\")\n        .style('font-size', '9px')\n        .style('font-weight', '100')\n        .style('font-family', 'Helvetica')\n        .text('Overview of US Greenhouse Gas Emissions in 2018')\n        .attr('transform',`translate(${-width/3},${-140})`)\n\n      donut.append('text')\n        .attr('text-anchor', 'middle')\n        .attr('aligment-baseline', 'middle')\n        .attr('font-size', '12px')\n        .text(d => d.data.formula || d.data.name)\n        .style('fill', 'white')\n        .attr('transform', (d) => {\n          const [x, y] = arcGenerator.centroid(d);\n          return (d.data.name === 'HFCs')\n            ? `translate(${x}, ${y - 10})`\n            : `translate(${x}, ${y})`;\n        });\n\n      donut.append('text')\n        .attr('text-anchor', 'middle')\n        .attr('aligment-baseline', 'middle')\n        .attr('font-size', '10px')\n        .text(d => `(${d.value}%)`)\n        .style('fill', 'white')\n        .attr('transform', (d) => {\n          const [x, y] = arcGenerator.centroid(d);\n          return (d.data.name === 'HFCs')\n            ? `translate(${x}, ${y})`\n            : `translate(${x}, ${y + 13})`;\n        });\n    }\n  }, [data, colorScale]);\n\n  return (\n    <div className=\"svg-container\" ref={d3Container} />\n  );\n}\n\nexport default Gases;\n","import React, {useEffect, useRef} from 'react';\nimport {select} from 'd3-selection';\nimport {axisBottom, axisLeft} from \"d3-axis\";\nimport {scaleLinear, scaleBand} from \"d3-scale\";\n\nconst margin = {top: 30, right: 0, bottom: 100, left: 80},\n  width = 460 - margin.left - margin.right,\n  height = 220 + margin.top + margin.bottom;\n\nfunction NetEmissionsFlow(props) {\n  const d3Container = useRef(null);\n  const {data} = props;\n\n  useEffect(() => {\n    if (data && d3Container.current) {\n      select(d3Container.current)\n        .select('svg')\n        .remove();\n\n      const svg = select(d3Container.current)\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\",\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      var x = scaleBand()\n        .range([ 0, width ])\n        .domain(data.map(function(d) { return d.emission; }))\n        .padding(0.2);\n      svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(axisBottom(x))\n        .selectAll(\"text\")\n        .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\n        .style(\"text-anchor\", \"end\");\n\n      var y = scaleLinear()\n        .domain([-40, 40])\n        .range([ height, 0]);\n      svg.append(\"g\")\n        .call(axisLeft(y));\n\n      var yAxisLabelText = 'CO\\u2082 Emissions (kg)';\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', \"translate(-50,270), rotate(270)\")\n        .text(yAxisLabelText);\n\n      svg.selectAll(\"nefbar\")\n        .data(data)\n        .enter()\n        .append(\"rect\")\n        .attr(\"x\", function(d) { return x(d.emission); })\n        .attr(\"y\", function(d) {\n          if (d.carbon > 0) {\n            return y(d.carbon);\n          } else {\n            return y(0);\n          }\n        })\n        .attr(\"width\", x.bandwidth())\n        .attr(\"height\", function(d) {\n          if (d.carbon > 0) {\n            return height/2 - y(d.carbon);\n          } else {\n            return height/2 - y(-d.carbon);\n          }\n        })\n        .attr(\"fill\", (d) => {\n          if (d.carbon > 0) {\n            return \"#FF453A\"\n          } else {\n            return \"#32D74B\"\n          }\n        })\n\n      svg.selectAll(\"nefbar\")\n        .data(data)\n        .enter()\n        .append('text')\n        .attr('fill', 'white')\n        .attr('font-size', '12px')\n        .attr('font-weight', '800')\n        .text(function(d) {\n          return `${Math.round(d.carbon)}`\n        })\n        .attr(\"x\", function(d){\n          if (d.emission === '1 Tree Planted') {\n            return x(d.emission) + 13;\n          }\n          return x(d.emission) + 20;\n        })\n        .attr(\"y\", function(d) {\n          if (d.carbon < 0) {\n            return y(d.carbon) + 20;\n          } else {\n            return y(d.carbon) - 10;\n          }\n        });\n\n      svg.append(\"line\")\n        .attr(\"x1\", 0 )\n        .attr(\"x2\", width )\n        .attr(\"y1\", height / 2)\n        .attr(\"y2\", height / 2)\n        .attr(\"stroke\", \"grey\")\n        .attr(\"stroke-dasharray\", \"4\")\n\n      svg.append('text')\n        .style('font-size', '14px')\n        .style('font-weight', '100')\n        .style('font-family', 'Helvetica')\n        .text('CO\\u2082 Swaps')\n        .style(\"fill\", \"white\")\n        .attr('transform','translate(150,-18)')\n\n    }\n  },[data]);\n\n  return (\n    <div ref={d3Container} />\n  );\n}\n\nexport default NetEmissionsFlow;\n","import React, {useEffect, useRef} from 'react';\nimport {select} from 'd3-selection';\nimport {scaleTime, scaleLinear} from \"d3-scale\";\nimport {axisBottom, axisLeft} from \"d3-axis\";\nimport {max, group, extent} from \"d3-array\";\nimport {line} from \"d3-shape\";\n\nconst margin = {top: 30, right: 20, bottom: 60, left: 80},\n  width = 460 - margin.left - margin.right,\n  height = 400 - margin.top - margin.bottom;\n\nfunction Paris(props) {\n  const d3Container = useRef(null);\n  const {data} = props;\n\n  useEffect(() => {\n    if (data && d3Container.current) {\n      select(d3Container.current)\n        .select('svg')\n        .remove();\n\n      const svg = select(d3Container.current)\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\",\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      var grouped_data = group(data, d => d.pathway);\n\n      var x = scaleTime()\n        .domain(extent(data, function(d) { return new Date(d.year); }))\n        .range([ 0, width ]);\n      svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(axisBottom(x).ticks(5));\n\n      var y = scaleLinear()\n        .domain([0, max(data, function(d) { return +d.value; })])\n        .range([ height, 0 ]);\n      svg.append(\"g\")\n        .call(axisLeft(y));\n\n      var yAxisLabelText = 'CO\\u2082 (Gigatonnes)';\n      var xAxisLabelText = 'Date';\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', `translate(165,360)`)\n        .text(xAxisLabelText);\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', \"translate(-60,210), rotate(270)\")\n        .text(yAxisLabelText);\n\n      svg.append(\"line\")\n        .attr(\"x1\", 0)\n        .attr(\"x2\", width)\n        .attr(\"y1\", y(9000))\n        .attr(\"y2\", y(9000))\n        .attr(\"stroke\", \"#ffcc00\")\n        .attr(\"stroke-width\", 2);\n\n      svg.append('text')\n        .text('where we\\'re headed')\n        .style(\"fill\", \"#FF453A\")\n        .style('font-size', '16px')\n        .style('font-weight', '900')\n        .style('font-family', 'Helvetica')\n        .attr('transform','translate(120,110) rotate(-30)')\n\n      svg.append('text')\n        .text('Paris Agreement')\n        .style(\"fill\", \"#32D74B\")\n        .style('font-size', '16px')\n        .style('font-weight', '900')\n        .style('font-family', 'Helvetica')\n        .attr('transform','translate(110,205) rotate(25)')\n\n      svg.append('text')\n        .text('the goal')\n        .style(\"fill\", \"#ffcc00\")\n        .style('font-size', '16px')\n        .style('font-weight', '900')\n        .style('font-family', 'Helvetica')\n        .attr('transform','translate(30,275)')\n\n      svg.append('text')\n        .style('font-size', '14px')\n        .style('font-weight', '100')\n        .style('font-family', 'Helvetica')\n        .text('Global CO\\u2082 Emissions')\n        .style(\"fill\", \"white\")\n        .attr('transform','translate(110,-18)')\n\n      svg.append(\"path\")\n        .datum(grouped_data.get(\"6\"))\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"#FF453A\")\n        .attr(\"stroke-width\", 2)\n        .attr(\"d\", line()\n          .x(function(d) { return x(new Date(d.year)) })\n          .y(function(d) { return y(d.value) })\n        )\n\n      svg.append(\"path\")\n        .datum(grouped_data.get(\"2\"))\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"#32D74B\")\n        .attr(\"stroke-width\", 2)\n        .attr(\"d\", line()\n          .x(function(d) { return x(new Date(d.year)) })\n          .y(function(d) { return y(d.value) })\n        )\n    }\n  },[data]);\n\n  return (\n    <div ref={d3Container} />\n  );\n}\n\nexport default Paris;\n","import React, {useEffect, useRef} from 'react';\nimport {select} from 'd3-selection';\nimport {extent, max, min} from \"d3-array\";\nimport {axisBottom, axisLeft} from \"d3-axis\";\nimport {scaleLinear, scaleTime} from \"d3-scale\";\nimport {line} from \"d3-shape\";\nimport {brushX} from \"d3-brush\";\n\nconst margin = {top: 0, right: 0, bottom: 60, left: 80},\n  width = 460 - margin.left - margin.right,\n  height = 400 - margin.top - margin.bottom;\n\nfunction PolarIce(props) {\n  const d3Container = useRef(null);\n  const {data} = props;\n\n  useEffect(() => {\n    if (data && d3Container.current) {\n      select(d3Container.current)\n        .select('svg')\n        .remove();\n\n      const svg = select(d3Container.current)\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\",\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      var x = scaleTime()\n        .domain(extent(data, function(d) { return new Date(d.date); }))\n        .range([ 0, width ]);\n      var xAxis = svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(axisBottom(x));\n\n      var y = scaleLinear()\n        .domain([max(data, function(d) { return +d.mass; }), min(data, function(d) { return +d.mass; })])\n        .range([ 0, height]);\n      svg.append(\"g\")\n        .call(axisLeft(y));\n\n      var yAxisLabelText = 'Mass (Gigatonnes)';\n      var xAxisLabelText = 'Date';\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', `translate(180,390)`)\n        .text(xAxisLabelText);\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', \"translate(-55,230), rotate(270)\")\n        .text(yAxisLabelText);\n\n      svg.append(\"line\")\n        .attr(\"x1\", 0)\n        .attr(\"x2\", width)\n        .attr(\"y1\", y(0))\n        .attr(\"y2\", y(0))\n        .attr(\"stroke\", \"grey\")\n        .attr(\"stroke-dasharray\", \"4\");\n\n      svg.append(\"defs\").append(\"svg:clipPath\")\n        .attr(\"id\", \"clip-ice\")\n        .append(\"svg:rect\")\n        .attr(\"width\", width)\n        .attr(\"height\", height)\n        .attr(\"x\", 0)\n        .attr(\"y\", 0);\n\n      var brush = brushX()\n        .extent( [ [0,0], [width,height] ] )\n        .on(\"end\", updateChart);\n\n      svg.append('g')\n        .attr(\"clip-path\", \"url(#clip-ice)\")\n        .attr('class', 'clip-path-ice')\n        .append(\"path\")\n        .datum(data)\n        .attr(\"class\", \"line\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"white\")\n        .attr(\"stroke-width\", 1)\n        .attr(\"d\", line()\n          .x(function(d) { return x(new Date(d.date)) })\n          .y(function(d) { return y(d.mass) })\n        );\n\n      svg.select('.clip-path-ice')\n        .append(\"g\")\n        .attr(\"class\", \"brush-ice\")\n        .call(brush);\n\n      var idleTimeout;\n      function idled() { idleTimeout = null; }\n\n      function updateChart({selection}) {\n        if (!selection){\n          if (!idleTimeout) return idleTimeout = setTimeout(idled, 350);\n          x.domain([ 4,8]);\n        } else{\n          x.domain([ x.invert(selection[0]), x.invert(selection[1]) ])\n          select(\".brush-ice\").call(brush.move, null)\n        }\n\n        xAxis.transition().duration(1000).call(axisBottom(x))\n        svg.select('.line')\n          .transition()\n          .duration(1000)\n          .attr(\"d\", line()\n            .x(function(d) { return x(new Date(d.date)) })\n            .y(function(d) { return y(d.mass) })\n          )\n      }\n\n      svg.on(\"dblclick\",function(){\n        x.domain(extent(data, function(d) { return new Date(d.date); }))\n        xAxis.transition().call(axisBottom(x))\n        svg.select('.line')\n          .transition()\n          .attr(\"d\", line()\n            .x(function(d) { return x(new Date(d.date)) })\n            .y(function(d) { return y(d.mass) })\n          )\n      });\n    }\n  },[data]);\n\n  return (\n    <div ref={d3Container} />\n  );\n}\n\nexport default PolarIce;\n","import React, {useEffect, useRef} from 'react';\nimport {select} from 'd3-selection';\nimport {extent, max, min} from \"d3-array\";\nimport {axisBottom, axisLeft} from \"d3-axis\";\nimport {scaleLinear, scaleTime} from \"d3-scale\";\nimport {line} from \"d3-shape\";\nimport {brushX} from \"d3-brush\";\n\nconst margin = {top: 0, right: 10, bottom: 60, left: 80},\n  width = 460 - margin.left - margin.right,\n  height = 400 - margin.top - margin.bottom;\n\nfunction SeaLevel(props) {\n  const d3Container = useRef(null);\n  const {data} = props;\n\n  useEffect(() => {\n    if (data && d3Container.current) {\n      select(d3Container.current)\n        .select('svg')\n        .remove();\n\n      const svg = select(d3Container.current)\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\",\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      var x = scaleTime()\n        .domain(extent(data, function(d) { return new Date(d.date); }))\n        .range([ 0, width ]);\n      var xAxis = svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(axisBottom(x));\n\n      var y = scaleLinear()\n        .domain([max(data, function(d) { return +d.level; }), min(data, function(d) { return +d.level; })])\n        .range([0, height]);\n      svg.append(\"g\")\n        .call(axisLeft(y));\n\n      var yAxisLabelText = 'Sea Level Change (mm)';\n      var xAxisLabelText = 'Date';\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', `translate(180,390)`)\n        .text(xAxisLabelText);\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', \"translate(-40,230), rotate(270)\")\n        .text(yAxisLabelText);\n\n      svg.append(\"line\")\n        .attr(\"x1\", 0)\n        .attr(\"x2\", width)\n        .attr(\"y1\", y(0))\n        .attr(\"y2\", y(0))\n        .attr(\"stroke\", \"grey\")\n        .attr(\"stroke-dasharray\", \"4\");\n\n      svg.append(\"defs\").append(\"svg:clipPath\")\n        .attr(\"id\", \"clip-sea\")\n        .append(\"svg:rect\")\n        .attr(\"width\", width)\n        .attr(\"height\", height)\n        .attr(\"x\", 0)\n        .attr(\"y\", 0);\n\n      var brush = brushX()\n        .extent( [ [0,0], [width,height] ] )\n        .on(\"end\", updateChart);\n\n      svg.append('g')\n        .attr(\"clip-path\", \"url(#clip-sea)\")\n        .attr('class', 'clip-path-sea')\n        .append(\"path\")\n        .datum(data)\n        .attr(\"class\", \"line\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"steelblue\")\n        .attr(\"stroke-width\", 1)\n        .attr(\"d\", line()\n          .x(function(d) { return x(new Date(d.date)) })\n          .y(function(d) { return y(+d.level) })\n        );\n\n      svg.select('.clip-path-sea')\n        .append(\"g\")\n        .attr(\"class\", \"brush-sea\")\n        .call(brush);\n\n      var idleTimeout;\n      function idled() { idleTimeout = null; }\n\n      function updateChart({selection}) {\n        if (!selection){\n          if (!idleTimeout) return idleTimeout = setTimeout(idled, 350);\n          x.domain([ 4,8]);\n        } else{\n          x.domain([ x.invert(selection[0]), x.invert(selection[1]) ])\n          select(\".brush-sea\").call(brush.move, null);\n        }\n\n        xAxis.transition().duration(1000).call(axisBottom(x))\n        svg.select('.line')\n          .transition()\n          .duration(1000)\n          .attr(\"d\", line()\n            .x(function(d) { return x(new Date(d.date)) })\n            .y(function(d) { return y(+d.level) })\n          )\n      }\n\n      svg.on(\"dblclick\",function(){\n        x.domain(extent(data, function(d) { return new Date(d.date); }))\n        xAxis.transition().call(axisBottom(x))\n        svg.select('.line')\n          .transition()\n          .attr(\"d\", line()\n            .x(function(d) { return x(new Date(d.date)) })\n            .y(function(d) { return y(+d.level) })\n          )\n      });\n    }\n  },[data]);\n\n  return (\n    <div ref={d3Container} />\n  );\n}\n\nexport default SeaLevel;\n","import React, {useEffect, useRef} from 'react';\nimport {pointer, select} from 'd3-selection';\nimport {hierarchy, treemap} from 'd3-hierarchy';\nimport {scaleOrdinal} from 'd3-scale';\nimport {filter, map} from 'lodash';\n\nconst margin = {top: 30, right: 10, bottom: 10, left: 10};\nconst width = 900;\nconst height = 900;\n\nfunction Sectors(props) {\n  const d3Container = useRef(null);\n  const {data} = props;\n\n  useEffect(() => {\n    if (data && d3Container.current) {\n      const color = scaleOrdinal()\n        .domain(map(data.children, sector => sector.name))\n        .range([\n          '#FF2D55', // Transportation\n          '#64D2FF', // Electricity\n          '#FF9F0A', // Industry\n          '#32D74B', // Agriculture\n          '#BF5AF2' // Residential\n        ]);\n\n      select(d3Container.current)\n        .select('svg')\n        .remove();\n\n      const svg = select(d3Container.current)\n        .append('svg')\n        .attr('preserveAspectRatio', 'xMinYMin meet')\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .classed('svg-content', true)\n        .append('g')\n        .attr('transform', `translate(${margin.left}, ${margin.top})`)\n        .on('mousemove', mousemove)\n        .on('mouseout', mouseout);\n\n      const root = hierarchy(data)\n        .sum(d => d.value);\n\n      treemap()\n        .size([width - (margin.right + margin.left), height - (margin.top + margin.bottom)])\n        .paddingTop(30)\n        .paddingRight(margin.right)\n        .paddingInner(3)\n        .round(true)\n        (root);\n\n      const nodes = svg.selectAll('rect')\n        .data(root.leaves());\n\n      nodes.enter()\n        .append('rect')\n        .attr('id', d => d.data.name)\n        .attr('x', d => d.x0)\n        .attr('y', d => d.y0)\n        .attr('width', d => d.x1 - d.x0)\n        .attr('height', d => d.y1 - d.y0)\n        .style('stroke', 'white')\n        .style('fill', d => {\n          if (d.data.colname !== 'level3') return 'none';\n          return color(d.parent.data.name);\n        })\n        .style('opacity', 1)\n        .on('mouseover', mouseover);\n\n      nodes.exit().remove()\n\n      const nodeText = svg\n        .selectAll('text')\n        .data(root.leaves());\n\n      nodeText.enter()\n        .append('text')\n        .attr('x', d => d.x0 + 5)\n        .attr('y', d => d.y0 + 20)\n        .text(d => d.data.subsector\n          ? d.data.name\n          : '')\n        .attr('font-size', '18px')\n        .attr('fill', 'white')\n\n      const nodeVals = svg.selectAll('vals')\n        .data(root.leaves())\n\n      nodeVals.enter()\n        .append('text')\n        .attr('x', d => d.x0 + 5)\n        .attr('y', d => d.y0 + 40)\n        .text(d => d.data.subsector\n          ? `${d.data.percent}%`\n          : '')\n        .attr('font-size', '16px')\n        .attr('fill', 'white')\n\n      svg.selectAll('titles')\n        .data(filter(root.descendants(), sector => sector.depth === 1))\n        .enter()\n        .append('text')\n        .attr('x', d => d.x0)\n        .attr('y', d => d.y0 + 24)\n        .text(d => `${d.data.name} (${d.data.percent}%)`)\n        .attr('font-size', d => d.data.name === 'Agriculture'\n          ? '21px'\n          : '24px')\n        .attr('fill', d => color(d.data.name));\n\n      svg.append('text')\n        .style(\"opacity\", 1)\n        .style(\"fill\", \"white\")\n        .style('font-size', '24px')\n        .style('font-weight', '100')\n        .style('font-family', 'Helvetica')\n        .text('Total US Greenhouse Gas Emissions by Sector 2018')\n        .attr('transform',`translate(${width/6},${-10})`)\n\n      var tooltip = svg.append('text')\n        .style(\"opacity\", 0)\n        .style(\"fill\", \"white\")\n        .style('font-size', '32px')\n        .style('font-weight', '600')\n        .style('font-family', 'Helvetica')\n        .style('z-index', 999)\n        .attr('x',0)\n        .attr('y', 0)\n\n      var tooltipunits = svg.append('text')\n        .text('million mt')\n        .style(\"opacity\", 0)\n        .style(\"fill\", \"white\")\n        .style('font-size', '32px')\n        .style('font-weight', '600')\n        .style('font-family', 'Helvetica')\n        .style('z-index', 999)\n        .attr('x',0)\n        .attr('y', 0)\n\n      function mouseout(event, d) {\n        tooltip.style('opacity', 0);\n        tooltipunits.style('opacity', 0);\n      }\n\n      function mousemove(event, d) {\n        let xy = pointer(event);\n        tooltip\n          .attr('x', xy[0] + 15)\n          .attr('y', xy[1])\n        tooltipunits\n          .attr('x', xy[0] + 15)\n          .attr('y', xy[1] + 35)\n      }\n\n      function mouseover(event, d) {\n        tooltip.style('opacity', 1)\n          .text(`~ ${(Math.round(d.data.carbon * 1000)).toLocaleString()}`);\n        tooltipunits.style('opacity', 1)\n      }\n    }\n\n  }, [data]);\n\n  return (\n    <div className=\"svg-container\" ref={d3Container} />\n  );\n}\n\nexport default Sectors;\n","import React, {useEffect, useRef} from 'react';\nimport {axisBottom, axisLeft} from \"d3-axis\";\nimport {bisector, extent, max} from \"d3-array\";\nimport {scaleLinear, scaleTime} from \"d3-scale\";\nimport {pointer, select} from 'd3-selection';\nimport {line} from \"d3-shape\";\n\nconst margin = {top: 0, right: 20, bottom: 60, left: 80},\n  width = 460 - margin.left - margin.right,\n  height = 400 - margin.top - margin.bottom;\n\nfunction Temp(props) {\n  const d3Container = useRef(null);\n  const {data} = props;\n\n  useEffect(() => {\n    if (data && d3Container.current) {\n      select(d3Container.current)\n        .select('svg')\n        .remove();\n\n      const svg = select(d3Container.current)\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\",\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      var x = scaleTime()\n        .domain(extent(data, function(d) { return new Date(d.date); }))\n        .range([ 0, width ]);\n      svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(axisBottom(x).ticks(5));\n\n      var y = scaleLinear()\n        .domain([-0.5, max(data, function(d) { return +d.value; })])\n        .range([ height, 0 ]);\n      svg.append(\"g\")\n        .call(axisLeft(y));\n\n      var yAxisLabelText = 'Temperature Anomaly (C)';\n      var xAxisLabelText = 'Date';\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', `translate(180,390)`)\n        .text(xAxisLabelText);\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', \"translate(-40,230), rotate(270)\")\n        .text(yAxisLabelText);\n\n      svg.append(\"path\")\n        .datum(data)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"#FF453A\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"d\", line()\n          .x(function(d) { return x(new Date(d.date)) })\n          .y(function(d) { return y(d.value) })\n        )\n\n      svg.append(\"line\")\n        .attr(\"x1\", 0)\n        .attr(\"x2\", width)\n        .attr(\"y1\", y(0))\n        .attr(\"y2\", y(0))\n        .attr(\"stroke\", \"grey\")\n        .attr(\"stroke-dasharray\", \"4\");\n\n      var bisect = bisector(function(d) { return new Date(d.date); }).left;\n\n      var focus = svg\n        .append('g')\n        .append('circle')\n        .style(\"fill\", \"white\")\n        .attr(\"stroke\", \"white\")\n        .attr('r', 4.5)\n        .style(\"opacity\", 0)\n\n      var focusText = svg\n        .append('g')\n        .append('text')\n        .style(\"opacity\", 0)\n        .style(\"fill\", \"#FF453A\")\n        .style('font-size', '48px')\n        .style('font-weight', '900')\n        .style('font-family', 'Helvetica')\n        .attr('transform','translate(50,100)')\n\n      svg.append('rect')\n        .style(\"fill\", \"none\")\n        .style(\"pointer-events\", \"all\")\n        .attr('width', width)\n        .attr('height', height)\n        .on('mouseover', mouseover)\n        .on('mousemove', mousemove)\n        .on('mouseout', mouseout);\n\n      function mouseover() {\n        focus.style(\"opacity\", 1)\n        focusText.style(\"opacity\",1)\n      }\n\n      function mousemove(event) {\n        let xy = pointer(event);\n        var x0 = x.invert(xy[0]);\n        var i = bisect(data, x0, 1);\n        if (i < data.length) {\n          let selectedData = {\"x\": new Date(data[i].date), \"y\": data[i].value};\n          focus\n            .attr(\"cx\", x(selectedData.x))\n            .attr(\"cy\", y(selectedData.y));\n          focusText\n            .html(`${selectedData.y} C`)\n        }\n      }\n\n      function mouseout() {\n        focus.style(\"opacity\", 0)\n        focusText.style(\"opacity\", 0)\n      }\n    }\n  },[data]);\n\n  return (\n    <div ref={d3Container} />\n  );\n}\n\nexport default Temp;\n","import React, {useState} from 'react';\nimport {Button, Container, Grid, Icon, Message} from \"semantic-ui-react\";\n\nimport './StoryBlock.css';\n\nimport Carbon from \"./graphs/Carbon\";\nimport Emissions from './graphs/Emissions';\nimport Gases from './graphs/Gases';\nimport NetEmissionsFlow from \"./graphs/NetEmissionsFlow\";\nimport Paris from './graphs/Paris';\nimport PolarIce from './graphs/PolarIce';\nimport SeaLevel from './graphs/SeaLevel';\nimport Sectors from './graphs/Sectors';\nimport Temp from \"./graphs/Temp\";\n\nimport carbon from '../../../data/narrative/carbon.json';\nimport emissions from '../../../data/narrative/emissions.json';\nimport greenhouse_gases from '../../../data/narrative/greenhouse_gases.json';\nimport net_emissions_flow from '../../../data/narrative/net_emissions_flow.json';\nimport sectors from '../../../data/narrative/sectors.json';\nimport temp from '../../../data/narrative/temp.json';\nimport text from '../../../data/narrative/text.json';\nimport sea_level from '../../../data/narrative/sea_level.json';\nimport polar_ice from '../../../data/narrative/polar_ice.json';\nimport paris from '../../../data/narrative/paris.json';\n\nfunction StoryBlock(props) {\n\n  const [tempCarbonActive, setTempCarbonActive] = useState(0);\n  const [seaIceActive, setSeaIceActive] = useState(0);\n\n  return (\n    <div className=\"story-block\">\n      { props.story >= 0 &&\n        <Grid columns={2}>\n          <Grid.Column >\n            <h1 className=\"story-heading\" dangerouslySetInnerHTML={{__html: text[props.story].heading}}/>\n            {text[props.story].subtext.length > 0 &&\n            <p className=\"story-subtext\" dangerouslySetInnerHTML={{__html: text[props.story].subtext}}/>\n            }\n            { text[props.story].facts.length > 0 &&\n              text[props.story].facts.map((fact, index) => (\n                <div className=\"fact\" key={index}>\n                  <Icon className=\"fact-icon\" name={fact.icon} color={fact.icon_color}/>\n                  <p className=\"fact-text\" dangerouslySetInnerHTML={{__html: fact.text}}/>\n                </div>\n              ))\n            }\n            { text[props.story].message.header.length > 0 && text[props.story].message.text.length > 0 &&\n              <Message className=\"story-message\" color='black'>\n                <Message.Header><Icon name={text[props.story].message.icon || 'star'}/>\n                  {text[props.story].message.header}\n                </Message.Header>\n                <p>{text[props.story].message.text}</p>\n              </Message>\n            }\n          </Grid.Column>\n          <Grid.Column>\n            { props.story === 0 && // temp and co2\n              <Container className='temp-carbon-container'>\n                <Button.Group>\n                  <Button className={tempCarbonActive ? \"active\" : \"negative\"} onClick={() => setTempCarbonActive(0)}>Temperature</Button>\n                  <Button.Or />\n                  <Button className={tempCarbonActive ? \"negative\" : \"active\"} onClick={() => setTempCarbonActive(1)}>CO<sub>2</sub></Button>\n                </Button.Group>\n                { tempCarbonActive\n                  ? <Carbon data={carbon} />\n                  : <Temp data={temp} />\n                }\n              </Container>\n            }\n            { props.story === 1 && // sea levels and ice caps\n              <Container className='ice-sea-container'>\n                <Button.Group>\n                  <Button className={seaIceActive ? \"active\" : \"primary\"} onClick={() => setSeaIceActive(0)}>Sea Level</Button>\n                  <Button.Or />\n                  <Button className={seaIceActive ? \"primary\" : \"active\"} onClick={() => setSeaIceActive(1)}>Ice Caps</Button>\n                </Button.Group>\n                { seaIceActive\n                  ? <PolarIce data={polar_ice} />\n                  : <SeaLevel data={sea_level} />\n                }\n              </Container>\n            }\n            { props.story === 2 && // how did we get here? -- greenhouse gases\n              <Gases data={greenhouse_gases} />\n            }\n            { props.story === 3 && // why do we focus on co2?\n              <Emissions data={emissions} />\n            }\n            { props.story === 4 && // why do we focus on individual action?\n              <Sectors data={sectors} />\n            }\n            { props.story === 5 && // how do we stay in budget?\n              <Container className='budget-container'>\n                <NetEmissionsFlow data={net_emissions_flow} />\n              </Container>\n            }\n            { props.story === 6 && // Paris Climate Accord\n              <Container className='paris-container'>\n                <Paris data={paris}/>\n              </Container>\n            }\n          </Grid.Column>\n        </Grid>\n      }\n    </div>\n  );\n}\n\nexport default StoryBlock;\n","export default __webpack_public_path__ + \"static/media/earth.413f91ba.png\";","import {Button, Container, Header, Icon, Modal, Transition} from \"semantic-ui-react\";\nimport React, {useState, useEffect} from 'react';\nimport StoryProgress from \"./story-progress/StoryProgress\";\nimport StoryBlock from \"./story-block/StoryBlock\";\nimport './Narrative.css';\n\nimport earth from '../../img/earth.png';\nimport text from '../../data/narrative/text.json';\n\nfunction Narrative() {\n  const [modalOpen, setModalOpen] = useState(true);\n  const [currentStory, setCurrentStory] = useState(-1);\n  const [visible] = useState([true, false, false, false, false, false, false, false]);\n  const storyBlocks = [];\n\n  for (let i = 0; i < text.length; i++) {\n    storyBlocks.push (\n      <Transition visible={visible[i]} animation='fade' duration={500} key={i}>\n        <Container>\n          <StoryBlock story={i}/>\n        </Container>\n      </Transition>\n    )\n  }\n\n  function handleKeyPress(event) {\n    if (event.key === \"ArrowLeft\" && currentStory >= 0) {\n      visible[currentStory] = false;\n      visible[currentStory - 1] = true;\n      setCurrentStory(currentStory - 1);\n    }\n    if (event.key === \"ArrowRight\" && currentStory < text.length - 1) {\n      visible[currentStory] = false;\n      visible[currentStory + 1] = true;\n      setCurrentStory(currentStory + 1);\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyPress, false);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyPress, false);\n    };\n  });\n\n  return (\n    <div className=\"narrative\" onKeyPress={() => handleKeyPress()}>\n      <Container>\n        <Modal\n          basic\n          onClose={() => setModalOpen(false)}\n          open={modalOpen}\n          size='small'\n        >\n          <Header icon>\n            <div className=\"modal-icons\">\n              <Icon name='arrow left' />\n              <Icon name='keyboard' />\n              <Icon name='arrow right' />\n            </div>\n            <p className=\"modal-title\">Navigate with your keyboard</p>\n          </Header>\n          <Modal.Content>\n            <p className=\"modal-content\">\n              Use the left and right arrow keys on your keyboard to move through the visualizations.\n            </p>\n          </Modal.Content>\n          <Modal.Actions>\n            <Button color='green' inverted onClick={() => setModalOpen(false)}>\n              <Icon name='checkmark' /> Ok\n            </Button>\n          </Modal.Actions>\n        </Modal>\n        <Transition visible={currentStory < 0} animation='fade' duration={500}>\n          <Container className=\"title-block\">\n            <h1>Our global ecosystem <span id='resiliently'>resiliently</span> supports life on earth, but...</h1>\n            <img src={earth} alt='Earth'/>\n          </Container>\n        </Transition>\n        <Transition visible={currentStory >= 0} animation='fade' duration={500}>\n          <Container>\n            <StoryProgress story={currentStory} />\n            <Container className=\"story-container\">\n              {storyBlocks}\n            </Container>\n          </Container>\n        </Transition>\n      </Container>\n      { currentStory < text.length - 1\n        ? (<a href=\"#/interactive\" className=\"skip-viz\">\n            Skip to your CO<sub>2</sub> impact<Icon name=\"arrow right\"/>\n          </a>)\n        : (<Button href=\"#/interactive\" className=\"go-viz\" positive>\n            Explore your CO<sub>2</sub> impact<Icon name=\"arrow right\"/>\n          </Button>)\n      }\n    </div>\n  );\n}\n\nexport default Narrative;\n","import React, {useEffect, useRef} from 'react';\nimport {arc, pie} from 'd3-shape';\nimport {interpolateCool} from 'd3-scale-chromatic';\nimport {scaleSequential} from 'd3-scale';\nimport {select} from 'd3-selection';\nimport {round} from 'lodash';\n\nconst margin = {top: 10, right: 10, bottom: 10, left: 10};\nconst width = 300;\nconst height = 300;\nconst innerRadius = 65;\nconst outerRadius = Math.min(width, height) / 2.5 - margin.top - margin.bottom;\n\nfunction Categories(props) {\n  const d3Container = useRef(null);\n  const {data} = props;\n\n  const colorScale = scaleSequential()\n    .interpolator(interpolateCool)\n    .domain([0, data.length]);\n\n  useEffect(() => {\n    if (data && d3Container.current) {\n      let total_carbon = data.reduce((a, b) => a + (b[\"value\"] || 0), 0);\n      select(d3Container.current)\n        .select('svg')\n        .remove();\n\n      const svg = select(d3Container.current)\n        .append('svg')\n        .attr('preserveAspectRatio', 'xMidYMin')\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .classed('single-svg', true)\n        .append('g')\n        .attr('transform', `translate(${width / 2}, ${height / 2})`);\n\n      svg.append('text')\n        .text(\"Emissions Categories\")\n        .attr('transform', `translate(-85,-130)`)\n        .style('fill', 'white')\n        .style('font-size', '18px')\n        .style('font-weight', '200')\n        .style('font-family', 'Helvetica')\n\n      if (total_carbon > 0) {\n        const arcGenerator = arc()\n          .innerRadius(innerRadius)\n          .outerRadius(outerRadius);\n\n        const pieGenerator = pie()\n          .padAngle(0)\n          .value(d => d.value);\n\n        const donut = svg\n          .selectAll()\n          .data(pieGenerator(data))\n          .enter();\n\n        donut.append('path')\n          .attr('d', arcGenerator)\n          .style('fill', (d, i) => colorScale(i))\n          .style('stroke-width', 0);\n\n        const arcLabel = arc()\n          .innerRadius(outerRadius * 0.9)\n          .outerRadius(outerRadius * 0.9);\n\n        donut.append('polyline')\n          .attr('stroke', 'white')\n          .style('fill', 'none')\n          .attr('stroke-width', 1)\n          .attr('opacity', d => {\n            if (d.data.value === 0) {\n              return \"0\"\n            }\n          })\n          .attr('points', (d) => {\n            const posA = arcGenerator.centroid(d);\n            const posB = arcLabel.centroid(d);\n            const posC = arcLabel.centroid(d);\n            const midAngle = d.startAngle + (d.endAngle - d.startAngle) / 2\n            posC[0] = outerRadius * 0.88 * (midAngle < Math.PI ? 1 : -1);\n            return [posA, posB, posC];\n          });\n\n        donut.append('text')\n          .text(d => d.data.name.charAt(0).toUpperCase() + d.data.name.slice(1))\n          .attr('opacity', d => {\n            if (d.data.value === 0) {\n              return \"0\"\n            }\n          })\n          .attr('transform', (d) => {\n            const pos = arcLabel.centroid(d);\n            const midAngle = d.startAngle + (d.endAngle - d.startAngle) / 2;\n            pos[0] = outerRadius * 0.9 * (midAngle < Math.PI ? 1 : -1);\n            return `translate(${pos})`;\n          })\n          .style('text-anchor', (d) => {\n            const midAngle = d.startAngle + (d.endAngle - d.startAngle) / 2;\n            return (midAngle < Math.PI ? 'start' : 'end');\n          })\n          .style('fill', 'white');\n\n        donut.append('text')\n          .text(d => (round(d.data.value).toLocaleString() + \" kg\"))\n          .attr('opacity', d => {\n            if (d.data.value === 0) {\n              return \"0\"\n            }\n          })\n          .attr('transform', (d) => {\n            const pos = arcLabel.centroid(d);\n            const midAngle = d.startAngle + (d.endAngle - d.startAngle) / 2;\n            pos[0] = outerRadius * 0.9 * (midAngle < Math.PI ? 1 : -1);\n            return `translate(${pos}), translate(0,20)`;\n          })\n          .style('text-anchor', (d) => {\n            const midAngle = d.startAngle + (d.endAngle - d.startAngle) / 2;\n            return (midAngle < Math.PI ? 'start' : 'end');\n          })\n          .style('fill', 'white');\n      } else {\n        svg.append('text')\n          .text(\"Add data on the control panel\")\n            .attr('transform', `translate(-125,-40)`)\n          .style('fill', '#6b6b6b')\n          .style('font-size', '20px')\n          .style('font-family', 'Helvetica')\n\n        svg.append('text')\n          .text(\"to see your emissions!\")\n          .attr('transform', `translate(-90,-10)`)\n          .style('fill', '#6b6b6b')\n          .style('font-size', '20px')\n          .style('font-family', 'Helvetica')\n      }\n    }\n  }, [data, colorScale]);\n\n  return (\n    <div className='single-container' ref={d3Container} />\n  );\n}\n\nexport default Categories;\n","import React, {useEffect, useState} from 'react';\nimport {round} from 'lodash'\nimport {Container, Progress} from 'semantic-ui-react';\n\nfunction Comparison({emissions, offsets}) {\n\n  const [total, setTotal] = useState(0);\n\n  useEffect(() => {\n    if (offsets > emissions) {\n      setTotal(round(offsets, 2));\n    } else {\n      setTotal(round(emissions, 2));\n    }\n  }, [emissions, offsets]);\n\n  return (\n    <Container className='comparison-container'>\n      <Progress\n        color='green'\n        progress='value'\n        total={total}\n        value={round(offsets, 2)}>\n          <p style={{color: '#32D74B'}}>Offsets (kg)</p>\n      </Progress>\n      <Progress\n        color='red'\n        progress='value'\n        value={round(emissions, 2)}\n        total={total}>\n          <p style={{color: '#FF453A'}}>Emissions (kg)</p>\n      </Progress>\n    </Container>\n  );\n}\n\nexport default Comparison;\n\n\n","// NOTE EMISSIONS UNITS GIVEN IN METRIC TONS OF CO2 EQUIVALENTS\n// Assuming all emissions account for one year\nconst NATIONAL_STATS = {\n  avg_per_capita_emissions: 20.36, // i.e. 20,000 kg\n  budget: 5500000000,\n  budget_per_capita: 16.7,\n  total_emissions_2018: 6677000000,\n  total_pop: 328000000 // (2019 estimates)\n};\n\nexport default NATIONAL_STATS;\n","import React, {useEffect, useRef} from 'react';\nimport {select} from 'd3-selection';\nimport {axisBottom, axisLeft} from \"d3-axis\";\nimport {scaleLinear, scaleBand} from \"d3-scale\";\nimport {round} from 'lodash';\n\nimport NATIONAL_STATS from '../../../../data/interactive/national_statistics';\n\nconst DEBUG = 0;\n\nconst margin = {top: 0, right: 0, bottom: 0, left: 100},\n  width = 460 - margin.left - margin.right,\n  height = 150 - margin.top - margin.bottom,\n  heightTranslated = height / 3.9;\n\nfunction Budget(props) {\n  const per_capita_limit = NATIONAL_STATS.budget_per_capita;\n  const d3Container = useRef(null);\n  const data = [props.data / 1000];\n  if (DEBUG) console.log(data)\n\n  useEffect(() => {\n    if (data && d3Container.current) {\n      select(d3Container.current)\n        .select('svg')\n        .remove();\n\n      const svg = select(d3Container.current)\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .attr('preserveAspectRatio', 'xMidYMid')\n        .attr('viewBox', `0 0 ${width} ${height}`)\n        .classed('single-svg-budget', true)\n        .append(\"g\")\n        .attr(\"transform\",\n          \"translate(\" + 0 + \",\" + 0 + \")\");\n\n      var titleText = 'Your CO\\u2082 Budget';\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', \"translate(100,20)\")\n        .style('font-size', '18px')\n        .style('font-weight', '200')\n        .style('font-family', 'Helvetica')\n        .text(titleText);\n\n      var x = scaleLinear()\n        .domain([0, 18])\n        .range([0, width]);\n      svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + 120 + \")\")\n        .call(axisBottom(x))\n        .selectAll(\"text\")\n        .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\n        .style(\"text-anchor\", \"end\");\n\n      var y = scaleBand()\n        .range([0, height/2])\n        .domain([\"\"])\n        .padding(.1);\n      svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + heightTranslated + \")\")\n        .style('opacity', \"0\")\n        .call(axisLeft(y));\n\n      svg.selectAll(\"myRect\")\n        .data(data)\n        .enter()\n        .append(\"rect\")\n        .attr(\"x\", x(0) )\n        .attr(\"y\", function() { return y(\"\"); })\n        .attr(\"width\", function() { return x(data); })\n        .attr(\"height\", y.bandwidth() )\n        .attr(\"transform\", \"translate(0,\" + heightTranslated + \")\")\n        .attr(\"fill\", \"#69b3a2\")\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr('transform', \"translate(150,280)\")\n        .style('fill', 'white')\n        .style('font-family', 'Helvetica')\n        .text(\"Metric Tons\");\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr(\"x\", () => {\n          if (data[0] > 0) {\n            return x(data[0] + 0.5)\n          }\n        })\n        .attr(\"y\", height / 2)\n        .style('fill', 'white')\n        .style('font-size', '16px')\n        .style('font-weight', '900')\n        .style('font-family', 'Helvetica')\n        .text(`${round(data, 2)}`);\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr(\"x\", () => {\n          if (data[0] > 0) {\n            return x(data[0] + 0.5)\n          }\n        })\n        .attr(\"y\", height / 2 + 12)\n        .style('fill', 'white')\n        .style('opacity', 0.8)\n        .style('font-size', '12px')\n        .style('font-weight', '200')\n        .style('font-family', 'Helvetica')\n        .text(`metric tons`);\n\n      svg.append(\"line\")\n        .attr(\"x1\", x(per_capita_limit))\n        .attr(\"x2\", x(per_capita_limit))\n        .attr(\"y1\", height / 2 - height / 4 + 5)\n        .attr(\"y2\", height / 2 + height / 4)\n        .attr(\"stroke\", \"grey\")\n        .attr(\"stroke-dasharray\", \"4\");\n\n      svg.append('text')\n        .style('fill', 'white')\n        .attr(\"x\", x(15.5) + 5)\n        .attr(\"y\", height / 2 - height / 4 + 2)\n        .style('fill', 'white')\n        .style('opacity', 0.8)\n        .style('font-size', '12px')\n        .style('font-weight', '200')\n        .style('font-family', 'Helvetica')\n        .text(`${per_capita_limit} mt limit`);\n    }\n  },[data, per_capita_limit]);\n\n  return (\n    <div className='single-container' ref={d3Container} />\n  );\n}\n\nexport default Budget;\n","import React, {useEffect, useState} from 'react';\nimport {Grid, Segment} from \"semantic-ui-react\";\nimport './Single.css';\nimport Categories from \"./graphs/Categories\";\nimport Comparison from \"./comparison/Comparison\";\nimport Budget from \"./graphs/Budget\";\n\nfunction Single(props) {\n\n  const [emissionsTotal, setEmissionsTotal] = useState(0);\n  const [offsetsTotal, setOffsetsTotal] = useState(0);\n  const [budgetData, setBudgetData] = useState(0);\n  const [emissionsData, setEmissionsData] = useState(0);\n\n  useEffect(() => {\n    let electricity_carbon = props.electricity;\n    let flights_carbon = props.flights.reduce((a, b) => a + (b[\"carbon\"] || 0), 0);\n    let cars_carbon = props.cars.reduce((a, b) => a + (b[\"carbon\"] || 0), 0);\n    let shipping_carbon = props.shipping.reduce((a, b) => a + (b[\"carbon\"] || 0), 0);\n    let new_emissions_data = [\n      {\"name\": \"electricity\", \"value\": electricity_carbon},\n      {\"name\": \"flights\", \"value\": flights_carbon},\n      {\"name\": \"cars\", \"value\": cars_carbon},\n      {\"name\": \"shipping\", \"value\": shipping_carbon},\n    ];\n    let new_emissions_total = new_emissions_data.reduce((a, b) => a + (b[\"value\"] || 0), 0);\n    let new_offset_total = props.vegan + props.carFree + props.ledBulbs + props.trees;\n    setEmissionsTotal(new_emissions_total);\n    setOffsetsTotal(-1 * new_offset_total);\n    setEmissionsData(new_emissions_data);\n    setBudgetData(new_emissions_total + new_offset_total);\n  }, [props]);\n\n  return (\n    <Segment className=\"single\">\n      <Grid columns={2} widths='equal'>\n        <Grid.Row>\n          <Grid.Column>\n            <Categories data={emissionsData}/>\n          </Grid.Column>\n          <Grid.Column>\n            <Budget data={budgetData}/>\n            <Comparison emissions={emissionsTotal} offsets={offsetsTotal}/>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Segment>\n  );\n}\n\nexport default Single;\n","import {min, round} from 'lodash';\nimport NATIONAL_STATS from '../../../data/interactive/national_statistics';\n\nexport const MAX_GRID_SIZE = getTotalSquares(NATIONAL_STATS.budget);\n\n// NOTE assumes emissions given in metric tons\nfunction getTotalSquares(emissions) {\n  // each square is worth 2 million metric tons\n  return emissions / 2000000;\n}\n\nexport function getGridSize(emissions) {\n  return min([MAX_GRID_SIZE, getTotalSquares(emissions)]);\n}\n\nexport function getEmissions(carbon, people) {\n  const avgEmissions = (NATIONAL_STATS.total_pop - people) *\n    NATIONAL_STATS.avg_per_capita_emissions;\n  const calculatedEmissions = people * carbon;\n  return avgEmissions + calculatedEmissions;\n}\n\nexport function getGridColor(emissions) {\n  if (emissions > NATIONAL_STATS.budget) return '#FF453A'; // red\n  if (emissions <= (NATIONAL_STATS.budget * 0.75)) return '#32D74B'; // green\n  return '#FFD60A'; // yellow\n}\n\nexport function getGridLabel(emissions) {\n  const formatted = round(NATIONAL_STATS.budget - emissions).toLocaleString();\n  if (emissions > NATIONAL_STATS.budget) {\n    return `${formatted} metric tons of CO\\u2082 over`;\n  }\n  return `${formatted} metric tons of CO\\u2082 left`;\n}\n","import React, {useEffect, useRef} from 'react';\nimport {range} from 'd3-array';\nimport {select} from 'd3-selection';\n\nimport {\n  getGridColor,\n  getGridLabel,\n  getGridSize,\n  MAX_GRID_SIZE\n} from './grid-conversions';\n\nconst width = 500;\nconst height = 200;\n\nconst groupSpacing = 3;\nconst cellSpacing = 1;\nconst cellSize = Math.floor((width - 11 * groupSpacing) / 100) - cellSpacing;\nconst offset = Math.floor((width - 100 * cellSize - 90 * cellSpacing - 11 * groupSpacing) / 2);\n\nfunction Grid(props) {\n  const d3Container = useRef(null);\n  const {data} = props;\n\n  function updateGrid(newEmissions) {\n    const emissionCells = getGridSize(newEmissions);\n    const svg = select(d3Container.current).select('svg');\n    const cell = svg.select('g')\n      .selectAll('rect')\n      .data(range(MAX_GRID_SIZE));\n\n    cell.exit()\n      .remove();\n\n    cell.enter()\n      .append('rect')\n      .attr('width', cellSize)\n      .attr('height', cellSize)\n      .attr('x', i => {\n        const x0 = Math.floor(i / 100) % 10;\n        const x1 = Math.floor(i % 10);\n        return groupSpacing * x0 + (cellSpacing + cellSize) * (x1 + x0 * 10);\n      })\n      .attr('y', i => {\n        const y0 = Math.floor(i / 1000);\n        const y1 = Math.floor(i % 100 / 10);\n        return groupSpacing * y0 + (cellSpacing + cellSize) * (y1 + y0 * 10); \n      })\n      .attr('fill', i => i > emissionCells\n        ? '#8E8E93'\n        : getGridColor(newEmissions));\n\n    svg.append('text')\n      .attr('transform', `translate(${offset * 5}, ${offset - 10})`)\n      .style('fill', 'white')\n      .style('font-weight', '200')\n      .style('font-family', 'Helvetica')\n      .style('font-size', '10px')\n      .text('USA National CO\\u2082 Budget');\n\n    svg.append('rect')\n      .attr('transform', `translate(${offset * 8.4}, ${offset * 4.8 - cellSize})`)\n      .attr('width', cellSize)\n      .attr('height', cellSize)\n      .attr('fill', '#8E8E93');\n\n    svg.append('text')\n      .attr('transform', `translate(${offset * 8.4 + 2 * cellSize}, ${offset * 4.8 + cellSize / 3})`)\n      .style('fill', 'white')\n      .style('opacity', 0.8)\n      .style('font-weight', '200')\n      .style('font-family', 'Helvetica')\n      .style('font-size', '10px')\n      .text('> 2 million metric tons of CO\\u2082')\n\n    cell.enter()\n      .append('text')\n      .attr('transform', `translate(${0}, ${3.85 * offset})`)\n      .style('fill', d => getGridColor(newEmissions))\n      .style('font-weight', '200')\n      .style('font-family', 'Helvetica')\n      .style('font-size', '10px')\n      .text(getGridLabel(newEmissions));\n  }\n\n  useEffect(() => {\n    if (data && d3Container.current) {\n      select(d3Container.current)\n        .select('svg')\n        .remove();\n\n      const svg = select(d3Container.current)\n        .append('svg')\n        .attr('preserveAspectRatio', 'xMinYMin meet')\n        .attr('viewBox', `0 0 ${width} ${height}`);\n\n      svg.append('g')\n        .attr('class', 'cells')\n        .attr('transform', `translate(${offset}, ${offset})`);\n\n      updateGrid(data.emissions);\n    }\n  }, [data]);\n\n  return(\n    <div className=\"national-container\" ref={d3Container} />\n  );\n}\n\nexport default Grid;\n","import React from 'react';\nimport {Segment} from \"semantic-ui-react\";\nimport {getEmissions} from './grid-conversions';\nimport Grid from './Grid';\nimport './National.css';\n\nconst DEBUG = 0;\n\nfunction National({carbon, people}) {\n  const emissions = getEmissions(carbon, people);\n\n  if(DEBUG) {\n    console.info('@National carbon', carbon);\n    console.info('@National emissions', emissions);\n    console.info('@National people', people);\n  }\n\n  return (\n    <Segment className=\"national\">\n      <Grid data={{emissions}} />\n    </Segment>\n  );\n}\n\nexport default National;\n","import React, {useState} from 'react';\nimport {Button, Modal, Header, Radio, Dropdown, Grid, Message} from \"semantic-ui-react\";\nimport airports from '../../../../data/interactive/us_airports.json';\n\nfunction FlightsModal(props) {\n\n  // Flights\n  const [oneWayRoundTrip, setOneWayRoundTrip] = useState(0);\n  const [fromDestination, setFromDestination] = useState(\"\");\n  const [toDestination, setToDestination] = useState(\"\");\n  const [errorHidden, setErrorHidden] = useState(true);\n\n  function addFlight() {\n    if (toDestination.length > 0 && fromDestination.length > 0) {\n      setErrorHidden(true);\n      let flight = {\n        \"to\": toDestination,\n        \"from\": fromDestination,\n        \"oneWayRound\": oneWayRoundTrip ? \"Round Trip\" : \"One Way\"\n      }\n      props.toggleFlightsModal(false);\n      setToDestination(\"\");\n      setFromDestination(\"\");\n      props.updateFlights(flight);\n    } else {\n      setErrorHidden(false);\n    }\n  }\n\n  function cancelFlight() {\n    setToDestination(\"\");\n    setFromDestination(\"\");\n    setOneWayRoundTrip(0);\n    setErrorHidden(true);\n    props.toggleFlightsModal(false);\n  }\n\n  return (\n    <Modal\n      open={props.openFlights}\n      size=\"tiny\"\n      className=\"flight-modal\"\n    >\n      <Header className=\"modal-header\" icon=\"plane\" content=\"Add Flight\"/>\n      <Modal.Content>\n        <Grid>\n          <Grid.Row>\n            <Grid.Column>\n              <h4>From</h4>\n              <Dropdown\n                fluid\n                options={airports}\n                placeholder='From'\n                search\n                selection\n                onChange={(event, data) => setFromDestination(data.value)}\n              />\n            </Grid.Column>\n          </Grid.Row>\n          <Grid.Row>\n            <Grid.Column>\n              <h4>To</h4>\n              <Dropdown\n                fluid\n                options={airports}\n                placeholder='To'\n                search\n                selection\n                onChange={(event, data) => setToDestination(data.value)}\n              />\n            </Grid.Column>\n          </Grid.Row>\n          <Grid.Row>\n            <Grid.Column>\n              <Radio\n                label='One Way'\n                value='One Way'\n                checked={oneWayRoundTrip === 0}\n                onChange={() => setOneWayRoundTrip(0)}\n              />\n              <br />\n              <Radio\n                label='Round Trip'\n                value='Round Trip'\n                checked={oneWayRoundTrip === 1}\n                onChange={() => setOneWayRoundTrip(1)}\n              />\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n        <Message negative hidden={errorHidden}>\n          <Message.Header>Something went wrong.</Message.Header>\n          <p>Please make sure you fill out all information correctly.</p>\n        </Message>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          onClick={() => cancelFlight()}>\n          Cancel\n        </Button>\n        <Button\n          color='blue'\n          content=\"Save\"\n          labelPosition='left'\n          icon='checkmark'\n          onClick={() => addFlight()}\n        />\n      </Modal.Actions>\n    </Modal>\n  );\n}\n\nexport default FlightsModal;\n","import React, {useState} from 'react';\nimport {Button, Modal, Header, Grid, Message, Input, Dropdown} from \"semantic-ui-react\";\nimport driving_frequency from \"../../../../data/interactive/driving_frequency.json\";\n\nfunction CarsModal(props) {\n\n  const [miles, setMiles] = useState(0);\n  const [frequency, setFrequency] = useState(\"\");\n  const [errorHidden, setErrorHidden] = useState(true);\n\n  function addCar() {\n    try {\n      let new_miles = parseInt(miles);\n      if (new_miles > 0 && frequency.length > 0) {\n        setErrorHidden(true);\n        props.toggleCarsModal(false);\n        setMiles(0);\n        props.updateCars({\"miles\": miles, \"frequency\": frequency});\n      } else {\n        setErrorHidden(false);\n      }\n    } catch(err) {\n      setErrorHidden(false);\n    }\n  }\n\n  function cancelCar() {\n    setMiles(0);\n    setErrorHidden(true);\n    props.toggleCarsModal(false);\n  }\n\n  return (\n    <Modal\n      open={props.openCars}\n      size=\"tiny\"\n      className=\"cars-modal\"\n    >\n      <Header className=\"modal-header\" icon=\"car\" content=\"Add Car\"/>\n      <Modal.Content>\n        <Grid columns={2} widths='equal'>\n          <Grid.Row>\n            <Grid.Column>\n              <h4>Miles Driven</h4>\n              <Input\n                type='number'\n                placeholder='Distance'\n                fluid\n                onChange={(event) => setMiles(event.target.value)}\n              />\n            </Grid.Column>\n            <Grid.Column>\n              <h4>Frequency</h4>\n              <Dropdown\n                fluid\n                options={driving_frequency}\n                placeholder='Frequency'\n                selection\n                onChange={(event, data) => setFrequency(data.value)}\n              />\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n        <Message negative hidden={errorHidden}>\n          <Message.Header>Something went wrong.</Message.Header>\n          <p>Please make sure you fill out all information.</p>\n        </Message>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          onClick={() => cancelCar()}>\n          Cancel\n        </Button>\n        <Button\n          color='blue'\n          content=\"Save\"\n          labelPosition='left'\n          icon='checkmark'\n          onClick={() => addCar()}\n        />\n      </Modal.Actions>\n    </Modal>\n  );\n}\n\nexport default CarsModal;\n","import React, {useState} from 'react';\nimport {Button, Modal, Header, Input, Dropdown, Grid, Message} from \"semantic-ui-react\";\nimport shipping_methods from '../../../../data/interactive/shipping_methods.json';\n\nfunction ShippingModal(props) {\n\n  const [weight, setWeight] = useState(0);\n  const [distance, setDistance] = useState(0);\n  const [method, setMethod] = useState(\"\");\n  const [errorHidden, setErrorHidden] = useState(true);\n\n  function addShipping() {\n    try {\n      let new_weight = parseFloat(weight);\n      let new_distance = parseFloat(distance);\n\n      if (new_weight > 0 && new_distance > 0) {\n        setErrorHidden(true);\n        let item = {\n          \"weight\": new_weight,\n          \"distance\": new_distance,\n          \"method\": method\n        };\n        props.toggleShippingModal(false);\n        setWeight(0);\n        setDistance(0);\n        props.updateShipping(item);\n      } else {\n        setErrorHidden(false);\n      }\n    } catch(err) {\n      setErrorHidden(false);\n    }\n  }\n\n  function cancelShipping() {\n    setWeight(0);\n    setDistance(0);\n    setErrorHidden(true);\n    props.toggleShippingModal(false);\n  }\n\n  return (\n    <Modal\n      open={props.openShipping}\n      size=\"tiny\"\n      className=\"shipping-modal\"\n    >\n      <Header className=\"modal-header\" icon=\"box\" content=\"Add Package\"/>\n      <Modal.Content>\n        <Grid columns={3} widths=\"equal\">\n          <Grid.Row>\n            <Grid.Column>\n              <h4>Weight (lbs)</h4>\n              <Input\n                type='number'\n                placeholder='Weight'\n                fluid\n                onChange={(event) => setWeight(event.target.value)}\n              />\n            </Grid.Column>\n            <Grid.Column>\n              <h4>Distance (miles)</h4>\n              <Input\n                type='number'\n                placeholder='Distance'\n                fluid\n                onChange={(event) => setDistance(event.target.value)}\n              />\n            </Grid.Column>\n            <Grid.Column>\n              <h4>Transport Method</h4>\n              <Dropdown\n                fluid\n                options={shipping_methods}\n                placeholder='Method'\n                selection\n                onChange={(event, data) => setMethod(data.value)}\n              />\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n        <Message negative hidden={errorHidden}>\n          <Message.Header>Something went wrong.</Message.Header>\n          <p>Please make sure you fill out all information correctly.</p>\n        </Message>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          onClick={() => cancelShipping()}>\n          Cancel\n        </Button>\n        <Button\n          color='blue'\n          content=\"Save\"\n          labelPosition='left'\n          icon='checkmark'\n          onClick={() => addShipping()}\n        />\n      </Modal.Actions>\n    </Modal>\n  );\n}\n\nexport default ShippingModal;\n","// NOTE offset units are in kg of CO2\nexport const offsets = {\n  vegan: {\n    id: 'vegan',\n    label: 'Go vegan',\n    offset: -1556.28\n  },\n  carFree: {\n    id: 'carFree',\n    label: 'Live car free',\n    offset: -5355.57\n  },\n  ledBulbs: {\n    id: 'recycle',\n    label: 'Recycle',\n    offset: -136.08\n  },\n  trees: {\n    id: 'trees',\n    label: 'Plant a tree',\n    multiplier: true,\n    offset: -33.26\n  }\n};\n","import React from 'react';\nimport {Icon} from 'semantic-ui-react';\n\n/* EMISSIONS */\nexport const emissionsTitle = (\n  <h2>\n    <Icon color='red' name='fire' />\n    Emissions\n  </h2>\n);\n\nexport const electricityTitle = (\n  <h3 className='emissions-title'>\n    <Icon name='lightning' color='yellow' />\n    Electricity\n  </h3>\n);\n\nexport const flightsTitle = (\n  <h3>\n    <Icon name='plane' color='teal' />\n    Flights\n  </h3>\n);\n\nexport const carsTitle = (\n  <h3>\n    <Icon name='car' color='purple' />\n    Cars\n  </h3>\n);\n\nexport const shippingTitle = (\n  <h3>\n    <Icon name=\"box\" color=\"brown\" />\n    Shipping\n  </h3>\n);\n\n/* OFFSETS */\n\nexport const offsetsTitle = \n<h2>\n  <Icon color='green' name='leaf' />\n  Offsets\n</h2>;\n\n/* MULTIPLIERS */\n\nexport const multipliersTitle = \n<h2>\n  <Icon color='blue' name='sliders horizontal'/>\n  Multipliers\n</h2>;","import React, {useState} from 'react';\nimport {filter, map} from 'lodash';\nimport {Button, Icon, Checkbox, List, Label, Popup, Modal, Message, Header} from \"semantic-ui-react\";\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\nimport './ControlPanel.css';\nimport FlightsModal from \"./flights/FlightsModal\";\nimport CarsModal from \"./cars/CarsModal\";\nimport ShippingModal from \"./shipping/ShippingModal\";\n\nimport {offsets} from '../emission_conversions';\nimport {\n  emissionsTitle,\n  electricityTitle,\n  flightsTitle,\n  carsTitle,\n  shippingTitle,\n  offsetsTitle,\n  multipliersTitle\n} from './headers';\n\nfunction ControlPanel(props) {\n\n  const [electricityLabel, setElectricityLabel] = useState(0);\n  const [treesLabel, setTreesLabel] = useState(0);\n  const [openFlights, setOpenFlights] = useState(false);\n  const [openCars, setOpenCars] = useState(false);\n  const [openShipping, setOpenShipping] = useState(false);\n  const [introOpen, setIntroOpen] = useState(true);\n\n  function updateElectricityLabel(value) { setElectricityLabel(value) }\n  function updateTreesLabel(value) {\n    setTreesLabel(value);\n  }\n\n  function toggleFlightsModal(hidden) { setOpenFlights(hidden); }\n  function updateFlights(flight) { props.updateFlights(flight); }\n  function deleteFlight(flight) { props.deleteFlight(flight); }\n\n  function toggleCarsModal(hidden) { setOpenCars(hidden); }\n  function updateCars(car) { props.updateCars(car); }\n  function deleteCar(car) { props.deleteCar(car); }\n\n  function toggleShippingModal(hidden) { setOpenShipping(hidden); }\n  function updateShipping(item) { props.updateShipping(item); }\n  function deleteShipping(flight) { props.deleteShipping(flight); }\n\n  return (\n    <div className=\"input-panel\">\n      <div className=\"emissions\">\n      <Popup basic trigger={emissionsTitle}>\n      <Popup.Header>Emissions</Popup.Header>\n        <Popup.Content>\n          Add estimates for your behavior to calculate your CO<sub>2</sub> emissions.\n          Values correspond to yearly emissions.\n        </Popup.Content>\n      </Popup>\n        <div className=\"emissions-header\">\n        <Popup basic trigger={electricityTitle}>\n        <Popup.Header>Electricity</Popup.Header>\n          <Popup.Content>\n            The average American pays $50 per month.\n            Our emissions calculator uses the&nbsp;\n            <a href=\"https://www.carboninterface.com\">Carbon Interface API.</a>\n          </Popup.Content>\n        </Popup>\n          <h3 className=\"offset-tree-value\">\n            <Icon name='dollar' color='yellow' />\n            {electricityLabel}\n          </h3>\n        </div>\n        <Slider\n          onChange={updateElectricityLabel}\n          onAfterChange={props.updateElectricity}\n          step={1}\n          min={0}\n          max={500}\n        />\n      </div>\n      <div className=\"emissions\">\n        <Popup basic trigger={flightsTitle}>\n        <Popup.Header>Flights</Popup.Header>\n          <Popup.Content>\n            Our emissions calculator uses the&nbsp;\n            <a href=\"https://www.carboninterface.com\">Carbon Interface API.</a>\n          </Popup.Content>\n        </Popup>\n        { props.flights.map((flight, index) => (\n          <Button\n            as='div'\n            basic\n            className='flight-label'\n            key={index}\n            labelPosition='left'\n            size='mini'>\n            <Label as='div' basic size='mini'>\n              <Button.Content>{flight.from.toUpperCase()}\n                <Icon name='right arrow' className='flight-arrow'/>\n                {flight.to.toUpperCase()} ({flight.oneWayRound})\n              </Button.Content>\n            </Label>\n            <Button\n              animated='vertical'\n              basic\n              color='red'\n              onClick={() => deleteFlight(flight)}\n              size='mini'>\n              <Button.Content hidden><Icon name='delete' /></Button.Content>\n              <Button.Content visible>{flight.carbon} kg</Button.Content>\n            </Button>\n          </Button>\n        ))\n        }\n        <Button\n          size=\"mini\"\n          onClick={() => setOpenFlights(true)}>\n            <Icon name=\"add\" />\n            Add flight\n        </Button>\n      </div>\n      <div className=\"emissions\">\n        <Popup basic trigger={carsTitle}>\n        <Popup.Header>Cars</Popup.Header>\n          <Popup.Content>\n            This projection is based on the mileage of a Toyota Corolla 2017.\n            Our emissions calculator uses the&nbsp;\n            <a href=\"https://www.carboninterface.com\">Carbon Interface API.</a>\n          </Popup.Content>\n        </Popup>\n        { props.cars.map((car, index) => (\n          <Button\n            as='div'\n            basic\n            className='flight-label'\n            key={index}\n            labelPosition='left'\n            size='tiny'>\n            <Label as='div' basic size='tiny'>\n              <Button.Content>{car.miles} mi / {car.frequency} </Button.Content>\n            </Label>\n            <Button\n              animated='vertical'\n              basic\n              color='red'\n              onClick={() => deleteCar(car)}\n              size='tiny'>\n              <Button.Content hidden><Icon name='delete' /></Button.Content>\n              <Button.Content visible>{car.carbon} kg</Button.Content>\n            </Button>\n          </Button>\n        ))\n        }\n        <Button size=\"mini\" onClick={() => setOpenCars(true)}><Icon name=\"add\" />Add car</Button>\n      </div>\n      <div className=\"emissions\">\n        <Popup basic trigger={shippingTitle}>\n        <Popup.Header>Shipping</Popup.Header>\n          <Popup.Content>\n            Our emissions calculator uses the&nbsp;\n            <a href=\"https://www.carboninterface.com\">Carbon Interface API.</a>\n          </Popup.Content>\n        </Popup>\n        { props.shipping.map((shipment, index) => (\n          <Button\n            as='div'\n            basic\n            className='flight-label'\n            key={index}\n            labelPosition='left'\n            size='tiny'>\n            <Label as='div' basic size='tiny'>\n              <Button.Content>\n                {shipment.weight} lbs | {shipment.distance} mi | {shipment.method}\n              </Button.Content>\n            </Label>\n            <Button\n              animated='vertical'\n              basic color='red'\n              onClick={() => deleteShipping(shipment)}\n              size='tiny'>\n              <Button.Content hidden><Icon name='delete' /></Button.Content>\n              <Button.Content visible>{shipment.carbon} kg</Button.Content>\n            </Button>\n          </Button>\n        ))\n        }\n        <Button size=\"mini\" onClick={() => setOpenShipping(true)}><Icon name=\"add\" />Add package</Button>\n      </div>\n      <div className=\"emissions\">\n        <Popup basic trigger={offsetsTitle}>\n        <Popup.Header>Offsets</Popup.Header>\n          <Popup.Content>\n            <p>Select behaviors to offset your CO<sub>2</sub> emissions.</p>\n            <ul>\n              <li>Going vegan saves 3,372.91 kg of CO<sub>2</sub> per year</li>\n              <li>Living car free saves 5,355.57 kg CO<sub>2</sub> per year</li>\n              <li>Recycling saves 136.08 kg of CO<sub>2</sub> per year</li>\n              <li>Planting a tree saves 33.11kg of CO<sub>2</sub> per year</li>\n            </ul>\n          </Popup.Content>\n        </Popup>\n        {map(filter(offsets, offset => !offset.multiplier), offset => (\n          <Checkbox\n            className='offset'\n            key={`offset-${offset.id}`}\n            label={offset.label}\n            onChange={props.updateOffsets} />\n        ))}\n        <div className=\"offset-tree\">\n          <div className=\"offset-tree-header\">\n            <p className=\"offset-tree-label\">Plant a tree</p>\n            <h3 className=\"offset-tree-value\">\n              <Icon name=\"tree\" color=\"green\" />\n              {(treesLabel).toLocaleString()}\n            </h3>\n          </div>\n          <Slider\n            onChange={updateTreesLabel}\n            onAfterChange={props.updateOffsets}\n            step={1}\n            min={0}\n            max={100}\n            className=\"tree-slider\"\n          />\n        </div>\n      </div>\n      <div className=\"emissions\">\n        <Popup basic trigger={multipliersTitle}>\n        <Popup.Header>Multipliers</Popup.Header>\n          <Popup.Content>\n            Scale the people slider to see the collective action if everyone\n            had the same carbon footprint as you.\n          </Popup.Content>\n        </Popup>\n        <div className=\"emissions-header\">\n          <h3 className=\"emissions-title\">\n            <Icon name=\"users\" color=\"blue\" />\n            &nbsp;Community\n          </h3>\n          <h3 className=\"emissions-value\">\n            <Icon name=\"user\" color=\"blue\" />\n            {(props.people).toLocaleString()}\n          </h3>\n        </div>\n        <Slider\n          onChange={props.updatePeople}\n          step={20000000}\n          min={1}\n          max={328000000}\n          dots={true}\n        />\n      </div>\n\n      {/* Modals */}\n      <FlightsModal\n        openFlights={openFlights}\n        toggleFlightsModal={toggleFlightsModal}\n        updateFlights={updateFlights}\n      />\n      <ShippingModal\n        openShipping={openShipping}\n        toggleShippingModal={toggleShippingModal}\n        updateShipping={updateShipping}\n      />\n      <CarsModal\n        openCars={openCars}\n        toggleCarsModal={toggleCarsModal}\n        updateCars={updateCars}\n      />\n      <Modal\n        basic\n        onClose={() => setIntroOpen(false)}\n        open={introOpen}\n        size='small'>\n        <Header icon>\n          <div className=\"modal-icons\">\n            <Icon name='thermometer full' />\n          </div>\n          <p className=\"modal-title\">Optimize your CO<sub>2</sub> budget</p>\n        </Header>\n        <Modal.Content>\n          <p className=\"modal-content\">\n            You can use this interactive visualization to explore how you can offset your own CO<sub>2</sub> emitting behviors.\n          </p>\n          <Message color='black'>\n            <Message.Header><Icon name='list ol'/> Directions</Message.Header>\n            <List ordered inverted>\n              <List.Item>You can use the control panel on the left to enter your behaviors, and explore offsets that you can do</List.Item>\n              <List.Item>The net carbon impact of your choices is visualized by your personal budget, and your goal is to stay within your 16.7 mt limit (the US's per capita goal for 2020 according to the Paris Agreement).</List.Item>\n              <List.Item>At the bottom you will see the US National CO2 emissions, far over budget. Use the people slider to visualize the impact on the national budget if more people behaved like you.</List.Item>\n            </List>\n          </Message>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color='grey' inverted onClick={() => setIntroOpen(false)}>\n            <Icon name='checkmark' /> Ok\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    </div>\n  );\n}\n\nexport default ControlPanel;\n","import {keys, map, pick, sum, values} from 'lodash';\nimport {createSelector} from 'reselect';\nimport {offsets} from './emission_conversions';\n\nconst getCars = ({cars}) => sum(map(cars, car => car.carbon));\nconst getElectricity = ({electricity}) => electricity;\nconst getFlights = ({flights}) => sum(map(flights, flight => flight.carbon));\nconst getShipping = ({shipping}) => sum(map(shipping, s => s.carbon));\n\nconst getEmissions = createSelector(\n  [getCars, getElectricity, getFlights, getShipping],\n  (cars, electricity, flights, shipping) => (\n    sum([cars, electricity, flights, shipping])\n  )\n);\nconst getOffsets = (props) => sum(values(pick(props, keys(offsets))));\n\nexport const getTotalCarbon = createSelector(\n  [getEmissions, getOffsets],\n  (emissions, offsets) => ((emissions + offsets) / 1000)\n);\n","import React, {useState, useEffect} from 'react';\nimport {Container, Grid} from \"semantic-ui-react\";\nimport {filter} from \"lodash\";\nimport { v4 as uuidv4 } from 'uuid';\nimport './Interactive.css';\nimport Single from \"./single/Single\";\nimport National from \"./national/National\";\nimport ControlPanel from \"./control-panel/ControlPanel\";\n\nimport {offsets} from './emission_conversions';\nimport {getTotalCarbon} from './selectors';\n\nconst DEBUG = 0;\n\nfunction Interactive() {\n\n  const carbonInterfaceToken = \"u6eAb2YPd7X1Nk6754brNA\";\n  const carbonInterfaceURL = \"https://www.carboninterface.com/api/v1/estimates\";\n\n  // Emissions\n  const [electricity, setElectricity] = useState(0);\n  const [flights, setFlights] = useState([]);\n  const [cars, setCars] = useState([]);\n  const [shipping, setShipping] = useState([]);\n  // Offsets\n  const [vegan, setVegan] = useState(0);\n  const [carFree, setCarFree] = useState(0);\n  const [ledBulbs, setLedBulbs] = useState(0);\n  const [trees, setTrees] = useState(0);\n  // People\n  const [people, setPeople] = useState(1);\n\n  function updateElectricity(value) {\n    let kwh = parseInt(value * 100 / 11.19 * 12);\n    let new_electricity = {\n      \"type\": \"electricity\",\n      \"electricity_unit\": \"kwh\",\n      \"electricity_value\": kwh,\n      \"country\": \"us\",\n    }\n    if (kwh > 0) {\n      setElectricity(100);\n      getCarbon(new_electricity)\n        .then((carbon) => {\n          setElectricity(carbon);\n      });\n    } else {\n      setElectricity(0);\n    }\n\n  }\n\n  function updateFlights(flight) {\n    if (DEBUG) console.log(flight);\n    let new_flight;\n    if (flight.oneWayRound === \"One Way\") {\n      new_flight = {\n        \"type\": \"flight\",\n        \"passengers\": 1,\n        \"legs\": [\n          {\"departure_airport\": flight.from, \"destination_airport\": flight.to},\n        ]\n      };\n    } else {\n      new_flight = {\n        \"type\": \"flight\",\n        \"passengers\": 1,\n        \"legs\": [\n          {\"departure_airport\": flight.from, \"destination_airport\": flight.to},\n          {\"departure_airport\": flight.to, \"destination_airport\": flight.from},\n        ]\n      };\n    }\n    if (DEBUG) console.log(new_flight);\n    getCarbon(new_flight)\n      .then((carbon) => {\n        setFlights(flights.concat([{\n          id: uuidv4(),\n          from: flight.from, \"to\": flight.to,\n          oneWayRound: flight.oneWayRound,\n          carbon\n        }]))\n      });\n  }\n\n  function deleteFlight(flight) {\n    setFlights(filter(flights, (item) => { return item.id !== flight.id }))\n  }\n\n  function updateCars(car) {\n    let miles;\n    if (car.frequency === \"week\") {\n      miles = car.miles * 52;\n    }\n    let new_car = {\n      \"type\": \"vehicle\",\n      \"distance_unit\": \"mi\",\n      \"distance_value\": miles,\n      \"vehicle_model_id\": \"cc5e1c93-2684-4424-afad-40a6b8145761\"\n    }\n    getCarbon(new_car)\n      .then((carbon) => {\n        setCars(cars.concat([{\n          id: uuidv4(),\n          miles: car.miles,\n          frequency: car.frequency,\n          carbon\n        }]));\n      });\n  }\n\n  function deleteCar(car) {\n    setCars(filter(cars, (item) => { return item.id !== car.id }))\n  }\n\n  function updateShipping(item) {\n    let new_item = {\n      \"type\": \"shipping\",\n      \"weight_value\": item.weight,\n      \"weight_unit\": \"lb\",\n      \"distance_value\": item.distance,\n      \"distance_unit\": \"mi\",\n      \"transport_method\": item.method\n    };\n    if (DEBUG) console.log(new_item);\n    getCarbon(new_item)\n      .then((carbon) => {\n        setShipping(shipping.concat([{\n          id: uuidv4(),\n          weight: item.weight,\n          distance: item.distance,\n          method: item.method,\n          carbon\n        }]));\n      });\n  }\n\n  function deleteShipping(shipment) {\n    setShipping(filter(shipping, (item) => { return item.id !== shipment.id }))\n  }\n\n  function updateOffsets(event, data) {\n    if (typeof event === \"number\") {\n      // Set trees to event (the number of trees) x whatever constant we use\n      setTrees(event * offsets.trees.offset);\n    } else {\n      switch (data.label) {\n        case offsets.vegan.label:\n          setVegan(data.checked ? offsets.vegan.offset : 0);\n          break;\n        case offsets.carFree.label:\n          setCarFree(data.checked ? offsets.carFree.offset : 0);\n          break;\n        case offsets.ledBulbs.label:\n          setLedBulbs(data.checked ? offsets.ledBulbs.offset : 0);\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  function updatePeople(value) {\n    if (value !== 1) {\n      setPeople(value - 1);\n    } else {\n      setPeople(1);\n    }\n  }\n\n  function getCarbon(json) {\n    return fetch(carbonInterfaceURL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${carbonInterfaceToken}`\n      },\n      body: JSON.stringify(json),\n    })\n      .then(response => response.json())\n      .then(data => {\n        console.info('@getCarbon data', data);\n        return data.data.attributes.carbon_kg\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n      });\n  }\n\n  useEffect(() => {\n    if (DEBUG) {\n      console.log(\"Electricity: \" + electricity);\n      console.log(\"Flights: \");\n      console.log(flights);\n      console.log(\"Cars: \");\n      console.log(cars);\n      console.log(\"Shipping: \");\n      console.log(shipping);\n      console.log(\"Vegan: \" + vegan);\n      console.log(\"Car Free: \" + carFree);\n      console.log(\"LED: \" + ledBulbs);\n      console.log(\"Trees: \" + trees);\n      console.log(\"People: \" + people);\n      console.log(\"------------------------------\")\n    }\n  }, [electricity, flights, shipping, cars, vegan, carFree, ledBulbs, trees, people]);\n\n  const totalCarbon = getTotalCarbon({\n    electricity, flights, shipping, cars, vegan, carFree, ledBulbs, trees\n  });\n\n  return (\n    <Container className=\"interactive\">\n      <Grid className=\"interactive-grid\" columns={3}>\n        <Grid.Row className=\"header\" stretched>\n          <Grid.Column width={5}>\n            <h3>Measure Carbon Emissions</h3>\n          </Grid.Column>\n          <Grid.Column width={11}>\n            <h3>Total Carbon Impact</h3>\n          </Grid.Column>\n        </Grid.Row>\n        <Grid.Row className=\"viz-panels\" stretched>\n          <Grid.Column width={5}>\n            <ControlPanel\n              electricity={electricity}\n              updateElectricity={updateElectricity}\n              flights={flights}\n              updateFlights={updateFlights}\n              deleteFlight={deleteFlight}\n              cars={cars}\n              updateCars={updateCars}\n              deleteCar={deleteCar}\n              shipping={shipping}\n              updateShipping={updateShipping}\n              deleteShipping={deleteShipping}\n              updateOffsets={updateOffsets}\n              people={people}\n              updatePeople={updatePeople}\n            />\n          </Grid.Column>\n          <Grid.Column width={11}>\n            <Single\n              electricity={electricity}\n              flights={flights}\n              cars={cars}\n              shipping={shipping}\n              vegan={vegan}\n              carFree={carFree}\n              ledBulbs={ledBulbs}\n              trees={trees}\n            />\n            <National carbon={totalCarbon} people={people} />\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Container>\n  );\n}\n\nexport default Interactive;\n","export default __webpack_public_path__ + \"static/media/bea.7cd60d55.JPG\";","export default __webpack_public_path__ + \"static/media/michael.f169e3a3.jpg\";","export default __webpack_public_path__ + \"static/media/kunal.971e0565.jpg\";","export default __webpack_public_path__ + \"static/media/toma.3f18ee27.jpg\";","import React from 'react';\nimport {Container, Card, Icon} from \"semantic-ui-react\";\nimport './Team.css';\nimport bea from '../../img/bea.JPG';\nimport michael from '../../img/michael.jpg';\nimport kunal from '../../img/kunal.jpg';\nimport toma from '../../img/toma.jpg';\n\nconst emails = {\n  bea: <a href=\"mailto:bepa@gatech.edu\"><Icon name='mail' />bepa@gatech.edu</a>,\n  michael: <a href=\"mailto:koohang@gatech.edu\"><Icon name='mail' />koohang@gatech.edu</a>,\n  kunal: <a href=\"mailto:@gatech.edu\"><Icon name='mail' />kdhodapkar3@gatech.edu</a>,\n  toma: <a href=\"mailto:tzubatiy3@gatech.edu\"><Icon name='mail' />tzubatiy3@gatech.edu</a>\n}\n\nfunction Teams() {\n\n  return (\n    <Container className='team-container'>\n      <h1>Meet the Team</h1>\n      <Card.Group itemsPerRow={4}>\n      <Card\n        image={bea}\n        header='Beatriz Palacios'\n        meta='Computer Science Ph.D. Candidate'\n        description='Beatriz is a Ph.D. student at Georgia Tech. She enjoys hiking and cooking tasty Venezuelan food.'\n        extra={emails.bea}\n      />\n      <Card\n        image={michael}\n        header='Michael Koohang'\n        meta='Computer Science M.S. Candidate'\n        description='Michael is an incoming Software Engineer at Nike. He enjoys playing soccer and riding his electric skateboard.'\n        extra={emails.michael}\n      />\n      <Card\n        image={kunal}\n        header='Kunal Dhodapkar'\n        meta='MS-HCI Candidate'\n        description='Kunal is a techie-turned-designer. Currently in the MS-HCI program at Georgia Tech, he loves designing experiences that empower people.'\n        extra={emails.kunal}\n      />\n      <Card\n        image={toma}\n        header='Toma Zubatiy'\n        meta='Human-Centered Computing Ph.D. Candidate'\n        description='Toma is a Ph.D. student at Georgia Tech. She has her own startup and loves to travel.'\n        extra={emails.toma}\n      />\n      </Card.Group>\n    </Container>\n  );\n}\n\nexport default Teams;\n","import React from 'react';\nimport {Container, List} from \"semantic-ui-react\";\nimport {map} from 'lodash';\nimport './References.css';\n\nimport refs from '../../data/references/references.json';\n\nfunction References() {\n\n  return (\n    <Container className='references-container'>\n      <h1>References</h1>\n      <hr />\n      <h3>Narrative</h3>\n      <List bulleted inverted>\n        { \n          map((refs.narrative), (ref) => (\n            <List.Item>\n              {ref.slide}\n              <List.List>\n              {\n                map((ref.items), item => (\n                  <List.Item>\n                    <a href={item.link}target='_blank' rel=\"noopener noreferrer\">{item.name}</a>\n                  </List.Item>\n                ))      \n              }\n              </List.List>\n            </List.Item>\n          ))\n        }  \n      </List>\n      <h3>Interactive</h3>\n      <List bulleted inverted>\n        {\n          map((refs.interactive), (ref) => (\n            <List.Item>\n              {ref.section}\n              <List.List>\n              {\n                map((ref.items), item => (\n                  <List.Item>\n                    <a href={item.link}target='_blank' rel=\"noopener noreferrer\">{item.name}</a>\n                  </List.Item>\n                ))      \n              }\n              </List.List>\n            </List.Item>\n          ))\n        } \n      </List>\n    </Container>\n  );\n}\n\nexport default References;\n","import React from 'react';\nimport {Grid, Icon, Menu, Segment} from \"semantic-ui-react\";\nimport './Footer.css';\n\nfunction Footer() {\n\n  return (\n    <div className=\"footer\">\n      <Segment inverted>\n        <Grid columns={1} stackable textAlign='center'>\n          <Menu inverted secondary>\n            <Menu.Item\n              name='Story'\n              href='#/'\n            />\n            <Menu.Item\n              name='Your Impact'\n              href='#/interactive'\n            />\n            <Menu.Item\n              name='Team'\n              href='#/team'\n            />\n            <Menu.Item\n              name='References'\n              href='#/references'\n            />\n          </Menu>\n        </Grid>\n        <Grid id='footer-text' columns={1} stackable textAlign='center'>\n          <Icon name='tree'/><span id='grawnola'>grawnola</span>\n        </Grid>\n      </Segment>\n    </div>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport {Switch, Route} from 'react-router-dom';\nimport Narrative from './narrative/Narrative';\nimport Interactive from './interactive/Interactive';\nimport Team from './team/Team';\nimport References from './references/References';\nimport Footer from \"./footer/Footer\";\nimport './App.css';\n\n\nfunction App() {\n\n  return (\n    <div className=\"app\">\n      <Switch>\n        <Route exact path='/' component={Narrative}/>\n        <Route exact path='/interactive' component={Interactive}/>\n        <Route exact path='/team' component={Team}/>\n        <Route exact path='/references' component={References}/>\n      </Switch>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import App from './components/App';\nimport {HashRouter} from \"react-router-dom\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport './index.css';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}